.TH NEOSC_OATH_CALC_ALL 3  2015-04-10 "" ""
.SH NAME
neosc_oath_calc_all \- calculate all YubiKey OATH TOTP entries
.SH SYNOPSIS
.nf
.B #include <libneosc.h>
.sp
.BI "int neosc_oath_calc_all(void *ctx, time_t time,"
.BI "                        NEOSC_OATH_RESPONSE **result,int *total);"
.SH DESCRIPTION
The
.BR neosc_oath_calc_all()
function  calculates all YubiKey OATH TOTP entries using the specified UTC time and returns a pointer to an array of results as well as the total amount of results. If the returned array pointer is not NULL it must be released by calling free() after processing.
.in +4n
.nf

typedef struct
{
        int digits;
        int value;
        char name[NEOSC_OATH_NAMELEN+1];
} NEOSC_OATH_RESPONSE;
.in
.fi
.PP
digits is either 6, 7 or 8 digits and value is the associated result value. name is the OATH applet entry name.
.SH RETURN VALUE
The
.BR neosc_oath_calc_all()
function returns zero in case of success and -1 in case of any error.
.SH SEE ALSO
.BR neosc_oath_select (3),
.BR neosc_oath_unlock (3),
.BR neosc_pcsc_open (3)
.SH AUTHOR
Written by Andreas Steinmetz
.SH COPYRIGHT
Copyright \(co 2015 Andreas Steinmetz
.br
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
